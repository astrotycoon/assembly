From 5e7c30afe2537d1af1590accf6c8e25ffbfcf12d Mon Sep 17 00:00:00 2001
From: grischka <grishka@gmx.de>
Date: Tue, 30 Jun 2009 18:02:00 +0200
Subject: Add DESTDIR support in configure

Origin: http://repo.or.cz/w/tinycc.git/commit/c93ddac9aa466f11750be3f230e097c207104349
Bug: http://savannah.nongnu.org/bugs/?23851
Last-Update: 2010-04-20
Applied-Upstream: c93ddac9aa466f11750be3f230e097c207104349
---
 configure |   15 ++++++++-------
 1 files changed, 8 insertions(+), 7 deletions(-)

diff --git a/configure b/configure
index 1521228..557693f 100755
--- a/configure
+++ b/configure
@@ -297,13 +297,14 @@ echo "# Automatically generated by configure - do not modify" > config.mak
 echo "/* Automatically generated by configure - do not modify */" > $TMPH
 
 echo "prefix=$prefix" >> config.mak
-echo "bindir=$bindir" >> config.mak
-echo "tccdir=$tccdir" >> config.mak
-echo "libdir=$libdir" >> config.mak
-echo "includedir=$includedir" >> config.mak
-echo "mandir=$mandir" >> config.mak
-echo "infodir=$infodir" >> config.mak
-echo "docdir=$docdir" >> config.mak
+echo "bindir=\$(DESTDIR)$bindir" >> config.mak
+echo "tccdir=\$(DESTDIR)$tccdir" >> config.mak
+echo "libdir=\$(DESTDIR)$libdir" >> config.mak
+echo "includedir=\$(DESTDIR)$includedir" >> config.mak
+echo "mandir=\$(DESTDIR)$mandir" >> config.mak
+echo "infodir=\$(DESTDIR)$infodir" >> config.mak
+echo "docdir=\$(DESTDIR)$docdir" >> config.mak
+
 echo "#define CONFIG_SYSROOT \"$sysroot\"" >> $TMPH
 echo "#define CONFIG_TCCDIR \"$tccdir\"" >> $TMPH
 echo "CC=$cc" >> config.mak
-- 
1.7.5.4

